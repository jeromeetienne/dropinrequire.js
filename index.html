<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="date" content="" />
</head>
<body>
<div id="drop-in-require"
><h1
  >Drop-In require</h1
  ><p
  >dropinrequire.js is a dropin replacement for commonjs <a href="http://www.commonjs.org/specs/modules/1.0/"
    >module</a
    > in a browser. No server to run, No preprocessing of javascript files. If you are using <a href="http://nodejs.org"
    >node.js</a
    > and is willing to share code with your browser without much trouble, dropinrequire.js is for you.</p
  ><div id="how-to-use-it"
  ><h2
    >How to use it</h2
    ><p
    >You just include this in your webpage</p
    ><pre
    ><code
      >&lt;script type=&quot;text/javascript&quot; src=&quot;../dropin_require.js&quot;&gt;&lt;/script&gt;
</code
      ></pre
    ><p
    >And after that you can use require(filename) to import your node module in the web browser. Show, dont tell, here is a (demo)(test/text.html)</p
    ><p
    >Suppose you got a module 'foobar.js'</p
    ><pre
    ><code
      >exports.foo = &quot;bar&quot;;
</code
      ></pre
    ><p
    >And with this html, it will display &quot;bar&quot;. That's it. Show, dont tell. Here it is <a href="demo/"
      >live</a
      ></p
    ><pre
    ><code
      >&lt;script src=&quot;../dropin_require.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
    alert( require('./foobar.js').foo );
&lt;/script&gt;
</code
      ></pre
    ></div
  ><div id="performance"
  ><h2
    >Performance</h2
    ><p
    >Currently node's (require())[http://nodejs.org/docs/v0.4.0/api/globals.html#require] is synchronous, aka blocking. It may not the best for the users. I will provide faster means later (it was my toy of the evening but it is now 2am)</p
    ></div
  ><div id="todo"
  ><h2
    >TODO</h2
    ><ul
    ><li
      >Cache the result of the require()</li
      ><li
      >not only for perf, this is about spec.</li
      ><li
      >To improve user-experience, provide a way to preload scripts asynchronously</li
      ><li
      >simply a dropinRequireAsync() and put that at the begining.</li
      ><li
      >dynamic cache: storing what file is included in a localstorage</li
      ><li
      >and thus preload asynchronously those files</li
      ><li
      >on the server, generater a single js file containing all those files</li
      ><li
      >then it is included as a whole in the webpage. dropinrequire.js</li
      ></ul
    ></div
  ></div
>
<style>
body {
    margin: auto;
    padding-right: 1em;
    padding-left: 1em;
    max-width: 44em; 
    border-left: 1px solid #eee;
    border-right: 1px solid #eee;
    font-family		: Verdana, sans-serif;
    font-size		: 100%;
    line-height		: 140%;
    color		: #eee; 
    background-color	: #22252a;
}
pre {
    border		: 1px dotted gray;
    background-color	: #444a50;
    color		: #1111111;
    padding		: 0.5em;
}
code {
	font-family	: monospace;
}
a { 
	text-decoration	: none;
	color		: lightSteelBlue; 
}
a:hover {
	text-decoration	: underline;
}
h1, h2, h3, h4, h5 { font-family: verdana;
                     font-weight: bold;
                     border-bottom: 1px dotted #eee;
                     color: lightSteelBlue; }
h1 {
	color		: #cd5;
        font-size	: 130%;
}
h1:nth-child(1) {
	font-size	: 300%;
	text-align	: center;
	height		: 1em;
}
h2 {
        font-size	: 110%;
}

h3 {
        font-size	: 95%;
}

h4 {
        font-size	: 90%;
        font-style	: italic;
}

h5 {
        font-size	: 90%;
        font-style	: italic;
}

h1.title {
        font-size	: 200%;
        font-weight	: bold;
        padding-top	: 0.2em;
        padding-bottom	: 0.2em;
        text-align	: left;
        border		: none;
}

dt code {
        font-weight	: bold;
}
dd p {
        margin-top	: 0;
}
img {
/*	border-color	: white;
	border-style	: solid;
*/}

#footer {
        padding-top	: 1em;
        font-size	: 70%;
        color		: gray;
        text-align	: center;
}

</style>
<!-- follow me on twitter -->
<a href="http://www.twitter.com/jerome_etienne"><img style="position: absolute; top: 10px; right: 10px; border: 0;" src="http://twitter-badges.s3.amazonaws.com/follow_me-c.png" alt="Follow jerome_etienne on Twitter"/></a>
<!-- github ribbon -->
<a href="https://github.com/jeromeetienne/dropinrequire.js"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://assets0.github.com/img/ce742187c818c67d98af16f96ed21c00160c234a?repo=&url=http%3A%2F%2Fs3.amazonaws.com%2Fgithub%2Fribbons%2Fforkme_left_gray_6d6d6d.png&path=" alt="Fork me on GitHub"></a>
</body>
</html>

